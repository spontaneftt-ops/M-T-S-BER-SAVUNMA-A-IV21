<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MİT | KIZIL ELMA SİBER SAVUNMA v42.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* CSS Kısmı Mevcut Tasarımınla Aynı Kalmıştır, Sadece Sınav Alanı İçin Eklemeler Yapıldı */
        :root { --hue: 0; --bg-deep: #020202; --accent: hsl(var(--hue), 100%, 50%); --text-main: #e0e0e0; }
        body { background-color: var(--bg-deep); color: var(--text-main); font-family: 'Rajdhani', sans-serif; overflow: hidden; }
        .app-wrapper { opacity: 0; transition: opacity 1s; height: 100vh; display: flex; flex-direction: column; }
        header { height: 80px; display: flex; justify-content: space-between; align-items: center; padding: 0 30px; border-bottom: 3px solid var(--accent); background: #000; }
        .workspace { display: flex; flex: 1; overflow: hidden; }
        aside { width: 300px; background: #050505; border-right: 1px solid #222; padding: 20px 0; }
        main { flex: 1; padding: 30px; overflow-y: auto; background: rgba(0,0,0,0.8); }
        .glass-box { background: rgba(10,11,14,0.96); border: 1px solid #222; padding: 25px; border-radius: 4px; margin-bottom: 25px; border-left: 2px solid var(--accent); }
        .nav-btn { background: transparent; border: none; color: #888; padding: 15px 25px; text-align: left; cursor: pointer; width: 100%; display: flex; gap: 10px; }
        .nav-btn.active { background: rgba(255,0,0,0.1); color: var(--accent); border-right: 3px solid var(--accent); }
        .cyber-btn { background: transparent; border: 1px solid var(--accent); color: var(--accent); padding: 12px; cursor: pointer; font-family: 'Orbitron'; font-weight: bold; width: 100%; }
        .cyber-btn:hover { background: var(--accent); color: #000; }
        input, select, textarea { width: 100%; background: #0a0a0a; border: 1px solid #333; padding: 10px; color: #fff; margin-bottom: 10px; }
        .exam-scroll { max-height: 500px; overflow-y: auto; padding-right: 10px; }
        .exam-q { margin-bottom: 20px; border-bottom: 1px solid #222; padding-bottom: 15px; }
        .exam-q label { display: block; margin-bottom: 8px; color: var(--accent); font-weight: bold; }
    </style>
</head>
<body class="defcon-1">

    <div class="app-wrapper" id="main-app" style="opacity:1;">
        <header>
            <div style="display:flex; align-items:center; gap:20px;">
                <img src="https://upload.wikimedia.org/wikipedia/tr/6/61/Mitlogo.png" height="50">
                <h1 style="font-family:'Orbitron';">MİT <span style="color:var(--accent)">KIZIL ELMA</span></h1>
            </div>
            <div id="sys-clock" style="font-family:'Share Tech Mono'; font-size:1.5rem;">00:00:00</div>
        </header>

        <div class="workspace">
            <aside id="sidebar-content">
                <div id="menu-guest">
                    <button class="nav-btn active" onclick="app.nav('public')"><i class="fas fa-home"></i> Duyurular</button>
                    <button class="nav-btn" onclick="app.nav('basvuru')"><i class="fas fa-user-plus"></i> Başvuru</button>
                </div>
            </aside>

            <main>
                <div id="panel-public" class="panel active">
                    <div class="glass-box"><h2>SİSTEM AKTİF</h2><p>Milli İstihbarat Teşkilatı Siber Savunma Ağına Hoşgeldiniz.</p></div>
                </div>

                <div id="panel-basvuru" class="panel" style="display:none;">
                    <div class="glass-box">
                        <div id="app-step-1">
                            <h3>AŞAMA 1: KİMLİK BİLGİLERİ</h3>
                            <input id="app-tc" placeholder="TC Kimlik No" maxlength="11">
                            <input id="app-name" placeholder="Ad Soyad">
                            <select id="app-gender"><option value="men">Erkek</option><option value="women">Kadın</option></select>
                            <button class="cyber-btn" onclick="app.startExam()">SINAVI BAŞLAT</button>
                        </div>
                        <div id="app-step-2" style="display:none;">
                            <h3 style="color:var(--accent)">AŞAMA 2: AKADEMİ MÜLAKAT SINAVI</h3>
                            <div class="exam-scroll" id="exam-questions-container">
                                </div>
                            <button class="cyber-btn" onclick="app.submitExam()">BAŞVURUYU TAMAMLA</button>
                        </div>
                    </div>
                </div>

                <div id="panel-idgen" class="panel" style="display:none;">
                    <div class="glass-box" style="text-align:center;">
                        <h2>OPERASYONEL KİMLİK OLUŞTURUCU</h2>
                        <div style="display:flex; gap:10px; margin-top:20px;">
                            <button class="cyber-btn" onclick="app.idGen.generate('men')">ERKEK MASKE</button>
                            <button class="cyber-btn" onclick="app.idGen.generate('women')">KADIN MASKE</button>
                        </div>
                        <canvas id="idGenCanvas" style="max-width:100%; margin-top:20px; border:2px solid var(--accent); display:none;"></canvas>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        const POOL = {
            namesMen: ["Adnan","Alparslan","Baturay","Cihangir","Doğan","Ertuğrul","Fatih","Gökhan","Hakan","İbrahim","Kadir","Metehan","Oğuzhan","Ömer","Polat","Süleyman","Tamer","Ufuk","Yavuz","Ziya","Bora","Caner","Demir","Ege","Furkan","Görkem","Haluk","Kaan","Levent","Murat","Numan","Orhan","Özgür","Ramazan","Selim","Tarık","Umut","Volkan","Yasin","Zafer"],
            namesWomen: ["Asena","Bahar","Ceren","Derya","Elif","Funda","Gamze","Hande","Irmak","Jale","Kübra","Leyla","Merve","Neslihan","Özlem","Pınar","Rüya","Selin","Tuğba","Umay","Vildan","Yağmur","Zehra","Ayşe","Burcu","Defne","Ebru","Gökçe","Hilal","İrem","Melek","Nilgün","Oya","Pelin","Seda","Tülay","Ülkü","Yeşim","Zeynep"],
            surnames: ["Korkmaz","Yılmaz","Kaya","Demir","Çelik","Şahin","Yıldız","Yıldırım","Öztürk","Aydın","Arslan","Doğan","Kılıç","Aslan","Çetin","Kara","Koç","Kurt","Özkan","Şimşek","Polat","Akar","Sönmez","Güneş","Bozkurt","Bulut","Keskin","Turan","Avcı","Işık","Kaplan","Taş","Ateş","Sarı","Tekin","Aksoy","Uçar","Erdem","Fidan","Güler"],
            cities: ["Ankara","İstanbul","İzmir","Bursa","Erzurum","Sivas","Diyarbakır","Trabzon","Antalya","Konya","Adana","Gaziantep","Şanlıurfa","Kocaeli","Mersin","Hatay","Manisa","Samsun","Balıkesir","Kahramanmaraş"]
        };

        const EXAM_QUESTIONS = [
            "Teşkilat-ı Mahsusa'nın kuruluş yılı nedir?",
            "MİT'in temel görevi nedir?",
            "İstihbarat çarkının ilk aşaması hangisidir?",
            "HUMINT (İnsan İstihbaratı) kavramını açıklayınız.",
            "SIGINT (Sinyal İstihbaratı) nedir?",
            "Devletin bekası kavramı sizin için ne ifade ediyor?",
            "Bir operasyonda deşifre olursanız ilk kuralınız ne olur?",
            "Siber istihbaratın günümüzdeki önemi nedir?",
            "Kritik altyapıların korunmasında MİT'in rolü nedir?",
            "Yabancı servislerin (CIA, Mossad vb.) çalışma yöntemleri hakkında ne biliyorsunuz?",
            "Stratejik analiz yaparken hangi kriterler önceliklidir?",
            "Açık kaynak istihbaratı (OSINT) nedir?",
            "Vatan sevgisi ve görev bilinci arasındaki dengeyi nasıl kurarsınız?",
            "İstihbaratta 'Ölü Mektup Kutusu' tabiri neyi ifade eder?",
            "Kriptoloji nedir ve istihbaratta neden hayati öneme sahiptir?",
            "Karşı istihbarat (Counter-Intelligence) faaliyetinin amacı nedir?",
            "Hibrit savaş kavramı Türkiye için neden bir tehdittir?",
            "MİT'in doğrudan Cumhurbaşkanlığına bağlı olması operasyonel kabiliyeti nasıl etkiler?",
            "Psikolojik harp yöntemlerine karşı nasıl bir duruş sergilenmelidir?",
            "MİT logosundaki yıldızlar ve amblem neyi temsil eder?"
        ];

        const app = {
            nav: function(id) {
                document.querySelectorAll('.panel').forEach(p => p.style.display = 'none');
                document.getElementById('panel-' + id).style.display = 'block';
            },

            startExam: function() {
                const tc = document.getElementById('app-tc').value;
                const name = document.getElementById('app-name').value;
                if(tc.length < 11 || name.length < 3) return alert("Bilgileri eksiksiz girin!");
                
                const container = document.getElementById('exam-questions-container');
                container.innerHTML = "";
                EXAM_QUESTIONS.forEach((q, i) => {
                    container.innerHTML += `
                        <div class="exam-q">
                            <label>${i+1}. ${q}</label>
                            <textarea id="q-${i}" placeholder="Cevabınızı buraya yazınız..."></textarea>
                        </div>
                    `;
                });
                document.getElementById('app-step-1').style.display = 'none';
                document.getElementById('app-step-2').style.display = 'block';
            },

            submitExam: function() {
                alert("Başvurunuz şifrelendi ve veritabanına iletildi. Değerlendirme sonrası size ulaşılacaktır.");
                this.nav('public');
            },

            idGen: {
                generate: function(gender) {
                    const cvs = document.getElementById('idGenCanvas');
                    const ctx = cvs.getContext('2d');
                    cvs.width = 1000; cvs.height = 630;
                    
                    const name = POOL[gender === 'men' ? 'namesMen' : 'namesWomen'][Math.floor(Math.random() * 40)];
                    const surname = POOL['surnames'][Math.floor(Math.random() * 40)];
                    const city = POOL['cities'][Math.floor(Math.random() * 20)];
                    const tc = Math.floor(10000000000 + Math.random() * 90000000000);
                    const photoId = Math.floor(Math.random() * 70);

                    // GÜVENLİ GÖRSEL YÜKLEME (CORS HATASI GİDERİLDİ)
                    const bg = new Image();
                    bg.crossOrigin = "Anonymous";
                    // Hizliresim yerine daha stabil bir placeholder veya tasarım linki kullanıldı
                    bg.src = "https://images.unsplash.com/photo-1557683316-973673baf926?q=80&w=1000"; 
                    
                    bg.onload = () => {
                        // Arka planı koyulaştırıp şablon oluşturma
                        ctx.fillStyle = "#111";
                        ctx.fillRect(0,0,1000,630);
                        ctx.strokeStyle = "#ff0000";
                        ctx.lineWidth = 10;
                        ctx.strokeRect(0,0,1000,630);
                        
                        // MİT Logo Süsü
                        ctx.fillStyle = "rgba(255,0,0,0.1)";
                        ctx.font = "bold 150px Orbitron";
                        ctx.fillText("MİT", 350, 350);

                        const photo = new Image();
                        photo.crossOrigin = "Anonymous";
                        photo.src = `https://randomuser.me/api/portraits/${gender}/${photoId}.jpg`;
                        
                        photo.onload = () => {
                            ctx.drawImage(photo, 50, 150, 300, 350);
                            ctx.fillStyle = "#fff";
                            ctx.font = "bold 40px Share Tech Mono";
                            ctx.fillText(`AD: ${name.toUpperCase()}`, 400, 200);
                            ctx.fillText(`SOYAD: ${surname.toUpperCase()}`, 400, 280);
                            ctx.fillText(`MEMLEKET: ${city.toUpperCase()}`, 400, 360);
                            ctx.fillText(`TC: ${tc}`, 400, 440);
                            ctx.fillStyle = "#ff0000";
                            ctx.fillText("OPERASYONEL MASKE KİMLİK", 400, 550);
                            
                            cvs.style.display = "block";
                        };
                    };
                    bg.onerror = () => {
                        // Eğer link bozulursa düz renk arka plan ile devam et (Hata önleyici)
                        ctx.fillStyle = "#050505";
                        ctx.fillRect(0,0,1000,630);
                        alert("Görsel sunucusu yanıt vermedi, standart şablon yüklendi.");
                        bg.onload(); 
                    };
                }
            }
        };

        setInterval(() => {
            document.getElementById('sys-clock').innerText = new Date().toLocaleTimeString();
        }, 1000);
    </script>
</body>
</html>
