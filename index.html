<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POLNET 6.0 | ULUSAL GÜVENLİK VE İSTİHBARAT AĞI</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <style>
        :root {
            --bg-color: #050505;
            --panel-bg: #0a0a0a;
            --text-color: #e0e0e0;
            --accent: #ff0000; /* Klasik MİT/Siber Kırmızısı */
            --accent-dim: #500000;
            --cyber-green: #00ff41;
            --staff-blue: #00ccff;
            --gold: #ffcc00;
            --border: 1px solid #222;
        }

        * { box-sizing: border-box; user-select: none; font-family: 'Share Tech Mono', monospace; }
        body { margin: 0; background: var(--bg-color); color: var(--text-color); height: 100vh; overflow: hidden; display: flex; }

        /* SIDEBAR */
        #sidebar { 
            width: 320px; border-right: 2px solid var(--accent); 
            background: var(--panel-bg); display: flex; flex-direction: column; padding: 20px;
        }
        .nav-btn {
            background: transparent; border: 1px solid #222; color: #888; padding: 12px;
            margin-bottom: 8px; cursor: pointer; text-align: left; font-family: 'Orbitron'; font-size: 0.7rem;
            display: flex; align-items: center; gap: 10px; transition: 0.3s;
        }
        .nav-btn:hover, .nav-btn.active { background: var(--accent-dim); color: white; border-color: var(--accent); }

        /* MAIN CONTENT */
        #main { flex: 1; padding: 25px; overflow-y: auto; background: radial-gradient(circle at center, #100000, #050505); }
        .panel { display: none; animation: scanFade 0.5s ease; }
        .panel.active { display: block; }
        @keyframes scanFade { from { opacity: 0; filter: brightness(2); } to { opacity: 1; filter: brightness(1); } }

        /* COMPONENTS */
        .card { background: rgba(10, 10, 10, 0.9); border: var(--border); padding: 20px; margin-bottom: 20px; position: relative; border-left: 3px solid var(--accent); }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

        /* DRONE & CAMERA VIEW */
        .viewport { width: 100%; height: 300px; background: #000; position: relative; border: 1px solid var(--accent-dim); overflow: hidden; }
        .scan-line { position: absolute; width: 100%; height: 2px; background: rgba(255, 0, 0, 0.3); top: 0; animation: scan 3s linear infinite; }
        @keyframes scan { from { top: 0; } to { top: 100%; } }

        /* TERMINAL STYLE */
        .terminal { background: #000; border: 1px solid var(--accent-dim); padding: 15px; color: var(--accent); font-size: 0.8rem; height: 200px; overflow-y: auto; box-shadow: inset 0 0 10px #ff000033; }
        
        input, select, textarea {
            background: #000; border: 1px solid #333; color: var(--accent); padding: 12px; width: 100%; margin-bottom: 10px;
        }
        .btn-mit { background: var(--accent); color: white; border: none; padding: 15px; cursor: pointer; font-family: 'Orbitron'; font-weight: bold; width: 100%; }
        .btn-mit:hover { background: #ff3333; box-shadow: 0 0 15px var(--accent); }

        /* MAP */
        #map { height: 400px; filter: grayscale(1) invert(1) contrast(1.5); border: 1px solid var(--accent-dim); }

        #status-bar { position: fixed; bottom: 0; left: 320px; right: 0; height: 30px; background: #000; border-top: 1px solid var(--accent); padding: 5px 20px; font-size: 0.7rem; color: var(--accent); display: flex; justify-content: space-between; }
    </style>
</head>
<body>

<div id="sidebar">
    <div style="text-align: center; margin-bottom: 30px;">
        <i class="fas fa-microchip fa-4x" style="color: var(--accent); filter: drop-shadow(0 0 10px var(--accent));"></i>
        <h2 style="font-family: 'Orbitron'; font-size: 1.2rem; margin-top: 15px; letter-spacing: 2px;">POLNET 6.0</h2>
        <small style="color: var(--accent);">NATIONAL SECURITY INTERFACE</small>
    </div>

    <button class="nav-btn active" onclick="app.nav('ops', this)"><i class="fas fa-crosshairs"></i> OPERASYON MERKEZİ</button>
    <button class="nav-btn" onclick="app.nav('gbt', this)"><i class="fas fa-fingerprint"></i> MERKEZİ GBT (MİT SORGUSU)</button>
    <button class="nav-btn" onclick="app.nav('havacilik', this)"><i class="fas fa-eye"></i> İHA / DRONE İZLEME</button>
    <button class="nav-btn" onclick="app.nav('siber', this)"><i class="fas fa-user-secret"></i> SİBER SAVUNMA (SOC)</button>
    <button class="nav-btn" onclick="app.nav('lojistik', this)"><i class="fas fa-pills"></i> LOJİSTİK & MÜHİMMAT</button>
    <button class="nav-btn" onclick="app.nav('arsiv', this)"><i class="fas fa-folder-closed"></i> DİJİTAL ARŞİV</button>

    <div style="margin-top: auto; border: 1px solid var(--accent-dim); padding: 15px; background: #050000;">
        <div style="color: var(--accent); font-family: 'Orbitron'; font-size: 0.7rem;">OPERATÖR YETKİSİ</div>
        <div style="font-size: 0.8rem; color: #fff;">LEVEL 5 - TOP SECRET</div>
    </div>
</div>

<div id="main">

    <div id="panel-ops" class="panel active">
        <h2 style="font-family: 'Orbitron'; color: var(--accent);">STRATEJİK OPERASYON HARİTASI</h2>
        <div class="grid-2">
            <div class="card">
                <div id="map"></div>
            </div>
            <div class="card">
                <h3>SAHA İLETİŞİM (TELSİZ)</h3>
                <div id="chat-flow" class="terminal" style="height: 280px; color: #fff;"></div>
                <div style="display:flex; gap:10px; margin-top:10px;">
                    <input id="chat-msg" placeholder="Merkeze rapor ver...">
                    <button class="btn-mit" style="width: 100px; padding: 10px;" onclick="app.sendAnons()">GÖNDER</button>
                </div>
            </div>
        </div>
    </div>

    <div id="panel-gbt" class="panel">
        <h2 style="font-family: 'Orbitron'; color: var(--accent);">BİYOMETRİK VE ADLİ SORGULAMA</h2>
        <div class="card">
            <div style="display: flex; gap: 15px;">
                <input id="gbt-input" placeholder="TC No veya İsim girin..." style="font-size: 1.2rem;">
                <button class="btn-mit" style="width: 250px;" onclick="app.runGBT()">VERİ TABANINDA ARA</button>
            </div>
            <div id="gbt-result" style="margin-top: 20px;"></div>
        </div>
    </div>

    <div id="panel-havacilik" class="panel">
        <h2 style="font-family: 'Orbitron'; color: var(--accent);">İHA CANLI GÖRÜNTÜ ANALİZİ</h2>
        <div class="grid-2">
            <div class="card">
                <div class="viewport">
                    <div class="scan-line"></div>
                    <img src="https://images.unsplash.com/photo-1508614589041-895b88991e3e?auto=format&fit=crop&w=800" style="width:100%; height:100%; opacity:0.5; filter: sepia(1) hue-rotate(-50deg);">
                    <div style="position:absolute; top:10px; left:10px; color:red; font-size:0.7rem;">● LIVE - ANKA-S</div>
                </div>
                <button class="btn-mit" style="margin-top:10px;" onclick="app.voiceAnons('Hedef bölgeye kilitlenildi. Termal tarama başlatılıyor.')">HEDEFE KİLİTLEN</button>
            </div>
            <div class="card">
                <h3>TELEMETRİ VERİLERİ</h3>
                <p>İRTİFA: 18.000 FT</p>
                <p>HIZ: 240 KM/S</p>
                <p>KOORDİNAT: 39.9211 N, 32.8539 E</p>
                <p>SİNYAL: %94 (KRİPTO AKTİF)</p>
            </div>
        </div>
    </div>

    <div id="panel-siber" class="panel">
        <h2 style="font-family: 'Orbitron'; color: var(--accent);">SİBER GÜVENLİK OPERASYON MERKEZİ (SOC)</h2>
        <div class="card">
            <div id="cyber-terminal" class="terminal" style="height: 300px; color: var(--cyber-green); border-color: var(--cyber-green);">
                [SYSTEM] Firewall aktif... DDoS saldırıları engellendi.<br>
                [SYSTEM] İzinsiz giriş denemesi: IP 185.x.x.x engellendi.
            </div>
            <div style="display:flex; gap:10px; margin-top:10px;">
                <input id="cyber-cmd" placeholder="SOC Komutu girin..." style="border-color: var(--cyber-green); color: var(--cyber-green);">
                <button class="btn-mit" style="background: var(--cyber-green); color: black; width: 150px;" onclick="app.runCyber()">EXECUTE</button>
            </div>
        </div>
    </div>

</div>

<div id="status-bar">
    <div id="live-status"><i class="fas fa-circle" style="font-size: 0.5rem; color: var(--accent); animation: pulse 1s infinite;"></i> SİSTEM ÇEVRİMİÇİ | ŞİFRELİ TÜNEL #00X12</div>
    <div id="clock">00:00:00</div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
    // Firebase Yapılandırması (İlk kodun DB'si)
    const firebaseConfig = {
        apiKey: "AIzaSyD4mXN8BZ3OMzl35vtEbNGA9BUuHPgoqQU",
        databaseURL: "https://mit-sistemi-default-rtdb.europe-west1.firebasedatabase.app"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const app = {
        nav: function(id, btn) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('panel-'+id).classList.add('active');
            btn.classList.add('active');
            this.voiceAnons(id + " yetkisi onaylandı.");
            if(id === 'ops') setTimeout(() => this.initMap(), 200);
        },

        voiceAnons: function(text) {
            const ut = new SpeechSynthesisUtterance(text);
            ut.lang = 'tr-TR';
            ut.rate = 0.95;
            window.speechSynthesis.speak(ut);
        },

        initMap: function() {
            if(this.map) return;
            this.map = L.map('map', {zoomControl: false}).setView([39.92, 32.85], 6);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(this.map);
        },

        runGBT: function() {
            const q = document.getElementById('gbt-input').value;
            if(!q) return;
            this.voiceAnons(q + " için merkez veri tabanı sorgulanıyor.");
            
            // Simüle GBT Sonucu (İlk koddaki stil ile)
            document.getElementById('gbt-result').innerHTML = `
                <div class="card" style="border-color: var(--gold); background: #110000;">
                    <h3 style="color: var(--gold); border-bottom: 1px solid var(--gold);">SORGULAMA SONUCU: ${q.toUpperCase()}</h3>
                    <p>DURUM: <span style="color: var(--accent);">ARANIYOR (TERÖR/SİBER)</span></p>
                    <p>SON SİNYAL: İstanbul / Fatih (Baz No: 34-921)</p>
                    <p>RİSK SKORU: %89</p>
                </div>
            `;
        },

        runCyber: function() {
            const cmd = document.getElementById('cyber-cmd').value;
            const term = document.getElementById('cyber-terminal');
            term.innerHTML += `<br>> ${cmd} yürütülüyor...`;
            setTimeout(() => {
                term.innerHTML += `<br>[OK] Protokol ${cmd} başarıyla tamamlandı. Tehdit seviyesi: Düşük.`;
                term.scrollTop = term.scrollHeight;
            }, 1000);
            document.getElementById('cyber-cmd').value = "";
        },

        sendAnons: function() {
            const msg = document.getElementById('chat-msg').value;
            if(!msg) return;
            db.ref('mit/telsiz').push({
                user: "OPERATÖR-7",
                text: msg,
                time: new Date().toLocaleTimeString()
            });
            document.getElementById('chat-msg').value = "";
        },

        listen: function() {
            db.ref('mit/telsiz').limitToLast(10).on('value', ss => {
                let h = "";
                ss.forEach(c => {
                    const v = c.val();
                    h += `<div>[${v.time}] <b>${v.user}:</b> ${v.text}</div>`;
                });
                document.getElementById('chat-flow').innerHTML = h;
                document.getElementById('chat-flow').scrollTop = 99999;
            });
            setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);
        }
    };

    window.onload = () => {
        app.listen();
        app.voiceAnons("Ulusal Güvenlik Sistemi Göktürk Altı Nokta Sıfır Başlatıldı. Hoş geldiniz.");
    };
</script>

</body>
</html>
